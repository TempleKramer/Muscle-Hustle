{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jarma\\\\school\\\\challenges\\\\Project3_Final\\\\fitness-app\\\\client\\\\src\\\\components\\\\form.js\";\nimport React, { useState, useEffect } from 'react';\n\nconst Form = props => {\n  const [exerciseForm, setExerciseForm] = useState({\n    exercise: {\n      inputType: 'input',\n      value: '',\n      title: 'Name of Exercise',\n      elementConfig: {\n        type: 'text',\n        placeholder: 'Exercise Name'\n      }\n    },\n    reps: {\n      inputType: 'input',\n      value: '',\n      title: 'Number of Reps',\n      elementConfig: {\n        type: 'text',\n        placeholder: 'Number of Reps'\n      }\n    }\n  });\n  const {\n    onCheckAuth\n  } = props;\n  useEffect(() => {\n    onCheckAuth();\n  }, [onCheckAuth]);\n  let inputArray = [];\n\n  for (let key in exerciseForm) {\n    inputArray.push({\n      id: key,\n      config: exerciseForm[key]\n    });\n  }\n\n  const inputChangedHandler = (e, input) => {\n    const updatedInput = { ...exerciseForm[input],\n      value: e.target.value\n    };\n    const updatedForm = { ...exerciseForm,\n      [input]: updatedInput\n    };\n    setExerciseForm(updatedForm);\n  };\n\n  const clearFields = () => {\n    const clearExercise = { ...exerciseForm['exercise'],\n      value: ''\n    };\n    const clearReps = { ...exerciseForm['reps'],\n      value: ''\n    };\n    const clearedForm = { ...exerciseForm,\n      exercise: clearExercise,\n      reps: clearReps\n    };\n    setExerciseForm(clearedForm);\n  };\n\n  const submitExerciseHandler = e => {\n    e.preventDefault();\n    const exercise = exerciseForm.exercise.value;\n    const reps = exerciseForm.reps.value;\n    const newExercise = {\n      exercise: exercise,\n      reps: reps\n    };\n    const localStorageExercises = JSON.parse(localStorage.getItem('exercises'));\n    localStorageExercises.push(newExercise);\n    localStorage.setItem('exercises', JSON.stringify(localStorageExercises));\n    onCheckAuth();\n    props.onSaveExercise(newExercise);\n    clearFields();\n  };\n\n  const submitWorkoutHandler = e => {\n    e.preventDefault();\n    const id = props.userId;\n    const exercise = exerciseForm.exercise.value;\n    const reps = exerciseForm.reps.value;\n    const workout = JSON.parse(localStorage.getItem('exercises'));\n    const time = new Date();\n    const date = time.toLocaleDateString('en', {\n      month: 'numeric',\n      day: 'numeric',\n      year: '2-digit'\n    });\n    const addDate = {\n      date: date\n    };\n    workout.unshift(addDate);\n\n    if (exercise) {\n      const newExercise = {\n        exercise: exercise,\n        reps: reps\n      };\n      workout.push(newExercise);\n      props.onSaveWorkout(workout, id);\n      clearFields();\n    } else {\n      props.onSaveWorkout(workout, id);\n      clearFields();\n    }\n  };\n\n  let errorMessage = null;\n\n  if (props.errorMessage) {\n    errorMessage = /*#__PURE__*/React.createElement(\"p\", {\n      className: classes.Error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 20\n      }\n    }, props.errorMessage);\n  }\n\n  let form = /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.Form,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, inputArray.map(input => /*#__PURE__*/React.createElement(Input, {\n    key: input.id,\n    inputType: input.config.inputType,\n    value: input.config.value,\n    title: input.config.title,\n    elementConfig: input.config.elementConfig,\n    changed: e => inputChangedHandler(e, input.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.SpreadButtons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    clicked: submitExerciseHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, \"Save Exercise\"), /*#__PURE__*/React.createElement(Button, {\n    clicked: submitWorkoutHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, \"Save Workout\"))));\n\n  const mapStateToProps = state => {\n    return {\n      errorMessage: state.workouts.error,\n      userId: state.auth.userId\n    };\n  };\n\n  const mapDispatchToProps = dispatch => {\n    return {\n      onSaveExercise: newExercise => dispatch(actions.saveExercise(newExercise)),\n      onSaveWorkout: (workout, id) => dispatch(actions.saveWorkout(workout, id)),\n      onCheckAuth: () => dispatch(actions.checkAuth())\n    };\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Form);","map":{"version":3,"names":["React","useState","useEffect","Form","props","exerciseForm","setExerciseForm","exercise","inputType","value","title","elementConfig","type","placeholder","reps","onCheckAuth","inputArray","key","push","id","config","inputChangedHandler","e","input","updatedInput","target","updatedForm","clearFields","clearExercise","clearReps","clearedForm","submitExerciseHandler","preventDefault","newExercise","localStorageExercises","JSON","parse","localStorage","getItem","setItem","stringify","onSaveExercise","submitWorkoutHandler","userId","workout","time","Date","date","toLocaleDateString","month","day","year","addDate","unshift","onSaveWorkout","errorMessage","classes","Error","form","map","SpreadButtons","mapStateToProps","state","workouts","error","auth","mapDispatchToProps","dispatch","actions","saveExercise","saveWorkout","checkAuth","connect"],"sources":["C:/Users/jarma/school/challenges/Project3_Final/fitness-app/client/src/components/form.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nconst Form = props => {\r\n    const [exerciseForm, setExerciseForm] = useState({\r\n        exercise: {\r\n            inputType: 'input',\r\n            value: '',\r\n            title: 'Name of Exercise',\r\n            elementConfig: {\r\n                type: 'text',\r\n                placeholder: 'Exercise Name'\r\n            }\r\n        },\r\n        reps: {\r\n            inputType: 'input',\r\n            value: '',\r\n            title: 'Number of Reps',\r\n            elementConfig: {\r\n                type: 'text',\r\n                placeholder: 'Number of Reps'\r\n            }\r\n        }\r\n    });\r\n    const { onCheckAuth } = props;\r\n    useEffect(() => {\r\n        onCheckAuth();\r\n    }, [onCheckAuth])\r\n    let inputArray = [];\r\n    for (let key in exerciseForm) {\r\n        inputArray.push({\r\n            id: key,\r\n            config: exerciseForm[key]\r\n        });\r\n    }\r\n    const inputChangedHandler = ( e, input ) => {\r\n        const updatedInput = {\r\n            ...exerciseForm[input],\r\n            value: e.target.value\r\n        }\r\n        const updatedForm = {\r\n            ...exerciseForm,\r\n            [input]: updatedInput\r\n        };\r\n        setExerciseForm(updatedForm);\r\n    }\r\n    const clearFields = () => {\r\n        const clearExercise = {\r\n            ...exerciseForm['exercise'],\r\n            value: ''\r\n        }\r\n        const clearReps = {\r\n            ...exerciseForm['reps'],\r\n            value: ''\r\n        }\r\n        const clearedForm = {\r\n            ...exerciseForm,\r\n            exercise: clearExercise,\r\n            reps: clearReps\r\n        }\r\n        setExerciseForm(clearedForm);\r\n    }\r\n    const submitExerciseHandler = e => {\r\n        e.preventDefault();\r\n        const exercise = exerciseForm.exercise.value;\r\n        const reps = exerciseForm.reps.value;\r\n        const newExercise = {\r\n            exercise: exercise,\r\n            reps: reps\r\n        }\r\n        const localStorageExercises = JSON.parse(localStorage.getItem('exercises'));\r\n        localStorageExercises.push(newExercise);\r\n        localStorage.setItem('exercises', JSON.stringify(localStorageExercises));\r\n        onCheckAuth();\r\n        props.onSaveExercise(newExercise);\r\n        clearFields();\r\n    }\r\n    const submitWorkoutHandler = e => {\r\n        e.preventDefault();\r\n        const id = props.userId;\r\n        const exercise = exerciseForm.exercise.value;\r\n        const reps = exerciseForm.reps.value;\r\n        const workout = JSON.parse(localStorage.getItem('exercises'));\r\n        const time = new Date();\r\n        const date = time.toLocaleDateString('en', { month: 'numeric', day: 'numeric', year: '2-digit' });\r\n        const addDate = {\r\n            date: date\r\n        };\r\n        workout.unshift(addDate);\r\n        if (exercise) {\r\n            const newExercise = {\r\n                exercise: exercise,\r\n                reps: reps\r\n            }\r\n            workout.push(newExercise);\r\n            props.onSaveWorkout(workout, id);\r\n            clearFields();\r\n        } else {\r\n            props.onSaveWorkout(workout, id);\r\n            clearFields();\r\n        }\r\n    }\r\n    let errorMessage = null;\r\n    if (props.errorMessage) {\r\n    errorMessage = <p className={classes.Error}>{props.errorMessage}</p>\r\n    }\r\n    let form = (\r\n        <div>\r\n            <form className={classes.Form}>\r\n                {inputArray.map(input => (\r\n                    <Input\r\n                        key={input.id}\r\n                        inputType={input.config.inputType}\r\n                        value={input.config.value}\r\n                        title={input.config.title}\r\n                        elementConfig={input.config.elementConfig}\r\n                        changed={(e) => inputChangedHandler(e, input.id)}\r\n                    />\r\n                ))}\r\n                <div className={classes.SpreadButtons}>\r\n                    <Button clicked={submitExerciseHandler}>Save Exercise</Button>\r\n                    <Button clicked={submitWorkoutHandler}>Save Workout</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\nconst mapStateToProps = state => {\r\n    return {\r\n        errorMessage: state.workouts.error,\r\n        userId: state.auth.userId\r\n    }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onSaveExercise: (newExercise) => dispatch(actions.saveExercise(newExercise)),\r\n        onSaveWorkout: (workout, id) => dispatch(actions.saveWorkout(workout, id)),\r\n        onCheckAuth: () => dispatch(actions.checkAuth())\r\n    }\r\n}}\r\nexport default connect(mapStateToProps, mapDispatchToProps) (Form);\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}